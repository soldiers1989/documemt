# 环信客服使用基本说明

## 概述
微信公共号接入环信客服系统有三种方式，分别是：授权模式，回调模式，网页跳转模式。前两种方式均为接收用户发送的所有信息，只是授权模式是环信后台系统接收微信信息后传给环信客服系统，而回调模式是指定自己的服务器接收微信上用户信息，再传给环信客服。这两种方式均使得微信平台的自定义菜单和自动回复失效。因此这两种均不可取。
  微信平台有自己的客服系统，可以不影响其本身功能，而独立于环信客服系统外，使用2套客服不方便，因使用环信的h5网页跳转模式，此模式不能获取用户昵称信息等，但相比较是不错的选择了。现详细介绍网页跳转方式。

## 环信h5网页跳转方式
 登录微信公众平台，打开“自定义菜单”，将H5网页链接地址添加到自定义的“联系客服”菜单上，保存并更新微信公众号，即可完成。
H5网页链接地址为（需将以下网址中的tenantId修改为自己账号下的tenantId，本APP的tenantId号为20722）：
 http://kefu.easemob.com/webim/im.html?tenantId=0000


## APP接入方式

客户只需要将手机APP集成环信即时通讯云IM SDK，并在环信移动客服系统关联该手机APP，即可轻松实现APP接入。具体步骤如下：<br/>

1． 登陆环信后台，登录后创建一个应用，以获取AppKey、ClientId、ClientSecret。<br/>
![创建应用](http://photosd.nggirl.com.cn/work/697fc3ef8298408fb4d25a541b1cec9e.png)
2. 创建该应用下的一个IM账号，设置IM密码。<br/>
3. 下载IM SDK并集成。[SDK下载地址](http://www.easemob.com/downloads)<br/>
集成demo可参考iOS版demo源码[iOS Deno下载地址](https://github.com/easemob/helpdeskdemo-ios)<br/>
Android版demo源码[Android Demo下载地址](https://github.com/easemob/helpdeskdemo-android)<br/>
已经打包好的程序：管理员模式，右上角点击“体验指南“,进入后扫描二维码下载。
4. 使用管理员账号登录环信移动客服，进入“管理员模式→渠道管理→手机APP”。设置关联。其中需要的AppKey等参数填写前面获取到的。若验证状态和应用状态均为绿色，则表明APP关联已添加成功。<br/>
![关联图片](http://photosd.nggirl.com.cn/work/b4606966539843d7a3c19f6598f4e90b.png)
5. 具体资料见[这里](http://docs.easemob.com/cs/300visitoraccess/10nativeapp)

## APP集成扩展<br/>
资料详见[这里](http://docs.easemob.com/cs/300visitoraccess/10nativeapp#app扩展集成)

## 环信客服端 

### 一、客服界面
![客服界面](http://photosd.nggirl.com.cn/work/b619d6cf80304d8d973b6b1cb245e603.png)

      当前所处的即为客服模式，可与用户或其他客服聊天。左侧菜单为会话的管理及客服信息的设置。最右侧为用户信息。右侧上方4个按钮分为：转接给其他客服；邀请用户评价；设置此次会话标签；结束会话。  


### 二、客服会话状态
客服有3种状态，为在线、隐身和离线。描述如下：
* 在线：在线时正常接入用户会话；
* 隐身：不再接入新会话，但当前正在进行的会话仍可继续。也可接入同时转接的会话。
* 离线：点击右上角“退出”按钮，为离线状态，不能接入任何会话。

### 三、会话分配原则
  环信客服系统每个客服都设有最大接待量，即同时处理的会话数。可根据自己的业务能力相应设置。会话分配原则为：空闲率+随机分配。
    空闲率：指客服当前可接入访客数占最大接待量的比率，例如：客服A的最大接待量设置为10，当前接待4人，还可以接待6人，则客服A的空闲率为60%。空闲率越高，优先分配会话。
    随机分配：指客服空闲率相同时，系统随机分配给任何一个“在线”状态的客服。当有新会话时，系统首先判断当前是否有“在线”状态的客服，若没有，则进入待接入排队；若有，则自动分配给空闲率高的客服，若多个客服的空闲率相同，则随机分配给一个客服。

###四、其他设置
 客服可查看与用户以往的会话，设置自己的昵称和头像。
 
##环信管理员端

###一、管理员模式界面
  点击上图右上方的管理员模式按钮进入管理员模式，如下图所示
  ![管理端页面](http://photosd.nggirl.com.cn/work/f4bc5419e01647378a8df96f88045b7b.png)
  
  
  
  
###  二、添加客服（人数无限制）
 在管理员模式中，单击左侧菜单成员管理—>客服，进入客服管理界面，可增删客服人员。可对新添加的客服人员设置权限。如果在权限中选择管理员，则此客服拥有管理员权限（可以有多个管理员，且其权限相等）。添加客服人数无限制。其中的邮箱和密码即为登录客服系统的账号密码。无管理员权限的客服只有客服模式。
 
 ![添加客服](http://photosd.nggirl.com.cn/work/0fffb0e04ab54346a268043e0ffbd1ea.png)
 
 

### 三、技能组
  可添加技能组，以将相同功能属性的客服设为一个技能组，管理员无论是否已分组，或位于哪个组，均可以看到全部待接入会话，且可以手动接入会话。
### 四、设置
  在管理员模式中，单击左侧菜单设置，可设置企业信息，常用标签、用语等。普通客服只能使用这些标签而不能编辑。
  
### 五、统计
   在管理员模式中，单击左侧菜单统计查询，可对客服及用户访问进行统计。
   
      
### 备注：
1． 环信客服系统网址为：https://kefu.easemob.com/mo/signin
2． 客服更为详尽资料在http://docs.easemob.com/cs/start



